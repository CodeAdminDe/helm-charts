{
  "branchPrefix": "renovate/",
  "onboarding": true,
  "separateMajorMinor": true,
  "separateMultipleMajor": true,
  "customManagers": [
    {
      "customType": "regex",
      "datasourceTemplate": "docker",
      "managerFilePatterns": [
        "/(^|/)values\\.yaml$/"
      ],
      "matchStrings": [
        "image:\\s?repository:\\s?\\\"?(?<depName>[\\w+\\.\\-/]*)\\\"?.*digest:\\s?\\\"?(?<currentDigest>.*?)\"?"
      ],
      "currentValueTemplate": "latest",
      "registryUrlTemplate": "{{#if (containsString depName 'ghcr.io')}}https://{{depName}}{{/if}}"
    },
    {
      "customType": "regex",
      "datasourceTemplate": "docker",
      "managerFilePatterns": [
        "/(^|/)Chart\\.yaml$/"
      ],
      "matchStrings": [
        "#\\s?renovate: registry=ghcr\\.io\\s?image=(?<depName>.*?)\\s?(appVersion|version):\\s?\\\"?(?<currentValue>[\\w+\\.\\-]*)\"?"
      ],
      "registryUrlTemplate": "https://ghcr.io/{{depName}}"
    },
    {
      "customType": "regex",
      "datasourceTemplate": "docker",
      "managerFilePatterns": [
        "/(^|/)Chart\\.yaml$/"
      ],
      "matchStrings": [
        "#\\s?renovate: image=(?<depName>.*?)\\s?(appVersion|version):\\s?\\\"?(?<currentValue>[\\w+\\.\\-]*)\"?"
      ]
    },
    {
      "customType": "regex",
      "datasourceTemplate": "helm",
      "managerFilePatterns": [
        "/(^|/)Chart\\.yaml$/"
      ],
      "matchStrings": [
        "#\\s?renovate: chart=(?<depName>.*?)\\srepository=(?<registryUrl>.*?)\\s?(appVersion|version):\\s?\\\"?(?<currentValue>[\\w+\\.\\-]*)\"?"
      ]
    }
  ],
  "packageRules": [
    {
      "matchFileNames": [
        "charts/**"
      ],
      "pinDigests": true,
      "bumpVersions": [
        {
          "filePatterns": [
            "{{packageFileDir}}/Chart.{yaml,yml}"
          ],
          "matchStrings": [
            "#\\s?renovate: bumpVersion\\s?(appVersion|version):\\s?\\\"?(?<version>[\\w+\\.\\-]*)\"?"
          ],
          "bumpType": "{{#if isMajor}}major{{else}}{{#if isPatch}}patch{{else}}minor{{/if}}{{/if}}"
        }
      ]
    }
  ]
}
