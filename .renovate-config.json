{
  "branchPrefix": "renovate/",
  "onboarding": true,
  "separateMajorMinor": true,
  "separateMultipleMajor": true,
  "customManagers": [
    {
      "customType": "regex",
      "datasourceTemplate": "docker",
      "managerFilePatterns": [
        "/(^|/)values\\.yaml$/"
      ],
      "matchStrings": [
        "image:\\s?\\s?\\s?repository:\\s?\"?(?<depName>[\\w+\\.\\-\/]*)\"?\\s?\\s?\\s?pullPolicy:\\s?\\w+\\s?\\s?\\s?tag:\\s?\"?(?<currentValue>[\\w+\\.\\-]*)\"?\\s?\\s?\\s?digest:\\s?\"?(?<currentDigest>sha256:[A-Fa-f0-9]{64})\"?"
      ],
      "currentValueTemplate": "latest",
      "registryUrlTemplate": "{{#if (containsString depName 'ghcr.io')}}https://{{depName}}{{/if}}",
      "depNameTemplate": "{{#if (containsString depName 'ghcr.io')}}{{{replace 'ghcr\\.io/' '' depName}}}{{else}}{{depName}}{{/if}}"
    },
    {
      "customType": "regex",
      "datasourceTemplate": "docker",
      "managerFilePatterns": [
        "/(^|/)Chart\\.yaml$/"
      ],
      "matchStrings": [
        "#\\s?renovate: registry=ghcr\\.io\\s?image=(?<depName>.*?)\\s?(appVersion|version):\\s?\\\"?(?<currentValue>[\\w+\\.\\-]*)\"?"
      ],
      "registryUrlTemplate": "https://ghcr.io/{{depName}}"
    },
    {
      "customType": "regex",
      "datasourceTemplate": "docker",
      "managerFilePatterns": [
        "/(^|/)Chart\\.yaml$/"
      ],
      "matchStrings": [
        "#\\s?renovate: image=(?<depName>.*?)\\s?(appVersion|version):\\s?\\\"?(?<currentValue>[\\w+\\.\\-]*)\"?"
      ]
    },
    {
      "customType": "regex",
      "datasourceTemplate": "helm",
      "managerFilePatterns": [
        "/(^|/)Chart\\.yaml$/"
      ],
      "matchStrings": [
        "#\\s?renovate: chart=(?<depName>.*?)\\srepository=(?<registryUrl>.*?)\\s?(appVersion|version):\\s?\\\"?(?<currentValue>[\\w+\\.\\-]*)\"?"
      ]
    }
  ],
  "packageRules": [
    {
      "matchFileNames": [
        "charts/**"
      ],
      "bumpVersions": [
        {
          "filePatterns": [
            "{{packageFileDir}}/Chart.{yaml,yml}"
          ],
          "matchStrings": [
            "#\\s?renovate: bumpVersion\\s?(appVersion|version):\\s?\\\"?(?<version>[\\w+\\.\\-]*)\"?"
          ],
          "bumpType": "{{#if isMajor}}major{{else}}{{#if isPatch}}patch{{else}}minor{{/if}}{{/if}}"
        }
      ]
    },
    {
      "matchFileNames": [
        "**/bind9-hidden-primary/Chart.yaml"
      ],
      "matchDatasources": [
        "docker"
      ],
      "matchUpdateTypes": [
        "major",
        "minor"
      ],
      "enabled": false
    }
  ]
}
